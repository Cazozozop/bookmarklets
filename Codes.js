javascript:(function(){if(document.getElementById('codec-ui'))return;const s=`<style>#codec-ui{position:fixed;top:40px;left:40px;background:#111;color:#0f0;font-family:sans-serif;z-index:999999;border:2px solid #0f0;border-radius:8px;padding:10px 10px 10px 10px;box-shadow:0 0 10px #0f08;width:300px;user-select:none;cursor:move}#codec-ui h3{margin:0 0 10px;font-size:16px;pointer-events:none;text-align:center}#codec-ui .close{position:absolute;top:5px;left:5px;color:#0f0;font-weight:bold;font-size:18px;cursor:pointer;user-select:none;z-index:2}#codec-ui label{margin-top:5px;display:block;font-weight:bold}#codec-ui select,#codec-ui textarea{width:100%;margin:3px 0 6px;background:#000;color:#0f0;border:1px solid #0f0;border-radius:4px;padding:4px;font-family:monospace;font-size:13px}#codec-ui textarea{height:50px}</style>`;const h=`<div id="codec-ui"><div class="close" title="Close">✖</div><h3>Encode / Decode</h3><label>Mode</label><select id="codec-mode"><option value="encode">Encode</option><option value="decode">Decode</option></select><label>Format</label><select id="codec-format"><option>Base64</option><option>Binary</option><option>Hex</option><option>Morse</option><option>ROT13</option><option>URI</option><option>HTML Entities</option><option>Unicode</option><option>Reverse</option><option>Caesar (+3)</option><option>Caesar (-3)</option><option>Octal</option><option>Atbash</option><option>UTF-16</option><option>UTF-32</option></select><label>Input</label><textarea id="codec-input"></textarea><label>Output</label><textarea id="codec-output" readonly></textarea></div>`;const d=document.createElement('div');d.innerHTML=s+h;document.body.appendChild(d);const box=document.getElementById('codec-ui'),close=box.querySelector('.close');close.onclick=()=>box.remove();const mode=document.getElementById('codec-mode'),format=document.getElementById('codec-format'),input=document.getElementById('codec-input'),output=document.getElementById('codec-output');function encode(t,f){switch(f){case'Base64':return btoa(unescape(encodeURIComponent(t)));case'Binary':return t.split('').map(c=>c.charCodeAt(0).toString(2).padStart(8,'0')).join(' ');case'Hex':return t.split('').map(c=>c.charCodeAt(0).toString(16).padStart(2,'0')).join('');case'Morse':const m={a:'.-',b:'-...',c:'-.-.',d:'-..',e:'.',f:'..-.',g:'--.',h:'....',i:'..',j:'.---',k:'-.-',l:'.-..',m:'--',n:'-.',o:'---',p:'.--.',q:'--.-',r:'.-.',s:'...',t:'-',u:'..-',v:'...-',w:'.--',x:'-..-',y:'-.--',z:'--..',' ':'/','0':'-----','1':'.----','2':'..---','3':'...--','4':'....-','5':'.....','6':'-....','7':'--...','8':'---..','9':'----.'};return t.toLowerCase().split('').map(c=>m[c]||'?').join(' ');case'ROT13':return t.replace(/[a-z]/gi,c=>String.fromCharCode((c<='Z'?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26));case'URI':return encodeURIComponent(t);case'HTML Entities':return t.replace(/[\u00A0-\u9999<>\&]/g,c=>'&#'+c.charCodeAt(0)+';');case'Unicode':return [...t].map(c=>'\\u'+c.charCodeAt(0).toString(16).padStart(4,'0')).join('');case'Reverse':return t.split('').reverse().join('');case'Caesar (+3)':return t.replace(/[a-z]/gi,c=>String.fromCharCode((c<='Z'?90:122)>=(c=c.charCodeAt(0)+3)?c:c-26));case'Caesar (-3)':return t.replace(/[a-z]/gi,c=>String.fromCharCode((c=c.charCodeAt(0)-3)>=(c<='Z'?65:97)?c:c+26));case'Octal':return t.split('').map(c=>c.charCodeAt(0).toString(8)).join(' ');case'Atbash':return t.replace(/[a-z]/gi,c=>String.fromCharCode((c<='Z'?155:219)-c.charCodeAt(0)));case'UTF-16':return Array.from(t).map(c=>c.charCodeAt(0)).join(',');case'UTF-32':return Array.from(t).map(c=>c.codePointAt(0)).join(',')}return '❌ Unsupported'}function decode(t,f){switch(f){case'Base64':return decodeURIComponent(escape(atob(t)));case'Binary':return t.split(' ').map(b=>String.fromCharCode(parseInt(b,2))).join('');case'Hex':return t.match(/.{1,2}/g).map(h=>String.fromCharCode(parseInt(h,16))).join('');case'Morse':const m={'.-':'a','-...':'b','-.-.':'c','-..':'d','.':'e','..-.':'f','--.':'g','....':'h','..':'i','.---':'j','-.-':'k','.-..':'l','--':'m','-.':'n','---':'o','.--.':'p','--.-':'q','.-.':'r','...':'s','-':'t','..-':'u','...-':'v','.--':'w','-..-':'x','-.--':'y','--..':'z','/':' '};return t.split(' ').map(c=>m[c]||'?').join('');case'ROT13':return encode(t,'ROT13');case'URI':return decodeURIComponent(t);case'HTML Entities':return t.replace(/&#(\d+);/g,(m,n)=>String.fromCharCode(n));case'Unicode':return t.replace(/\\u([\d\w]{4})/gi,(m,n)=>String.fromCharCode(parseInt(n,16)));case'Reverse':return t.split('').reverse().join('');case'Caesar (+3)':return decode(t,'Caesar (-3)');case'Caesar (-3)':return decode(t,'Caesar (+3)');case'Octal':return t.split(' ').map(o=>String.fromCharCode(parseInt(o,8))).join('');case'Atbash':return encode(t,'Atbash');case'UTF-16':return t.split(',').map(n=>String.fromCharCode(parseInt(n))).join('');case'UTF-32':return t.split(',').map(n=>String.fromCodePoint(parseInt(n))).join('')}return '❌ Unsupported'}input.oninput=format.onchange=mode.onchange=()=>{try{output.value=mode.value==='encode'?encode(input.value,format.value):decode(input.value,format.value)}catch(e){output.value='⚠️ Error'}};let drag=false,sx,sy,ox,oy;box.addEventListener('mousedown',e=>{if(e.target.tagName==='TEXTAREA'||e.target.tagName==='SELECT')return;drag=true;sx=e.clientX;sy=e.clientY;const r=box.getBoundingClientRect();ox=r.left;oy=r.top;e.preventDefault()});window.addEventListener('mousemove',e=>{if(!drag)return;let nx=ox+(e.clientX-sx),ny=oy+(e.clientY-sy);nx=Math.min(window.innerWidth-box.offsetWidth,Math.max(0,nx));ny=Math.min(window.innerHeight-box.offsetHeight,Math.max(0,ny));box.style.left=nx+'px';box.style.top=ny+'px'});window.addEventListener('mouseup',()=>{drag=false});})();
