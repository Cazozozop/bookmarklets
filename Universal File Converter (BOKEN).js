javascript:(function()%7Bif(document.getElementById('conv-ui'))return;var%20fmt=%5B%22png%22,%22jpg%22,%22jpeg%22,%22webp%22,%22avif%22,%22bmp%22,%22gif%22,%22tiff%22,%22ico%22,%22svg%22,%22heic%22,%22heif%22,%22psd%22,%22tga%22,%22raw%22,%22mp3%22,%22wav%22,%22ogg%22,%22flac%22,%22aac%22,%22m4a%22,%22mp4%22,%22webm%22,%22mov%22,%22avi%22,%22mkv%22,%22gifv%22,%22pdf%22,%22docx%22,%22odt%22,%22pptx%22,%22xlsx%22,%22epub%22,%22txt%22,%22md%22,%22html%22,%22xml%22,%22json%22,%22yaml%22,%22csv%22,%22rtf%22,%22odf%22,%22obj%22,%22glb%22,%22stl%22,%22ply%22,%22fbx%22,%22dae%22,%22gltf%22,%22zip%22,%22tar%22,%22gz%22,%227z%22,%22base64%22,%22datauri%22%5D;var%20mimeExt=%7B%22image/png%22:%22.png%22,%22image/jpeg%22:%22.jpg%22,%22image/webp%22:%22.webp%22,%22image/avif%22:%22.avif%22,%22image/bmp%22:%22.bmp%22,%22image/gif%22:%22.gif%22,%22image/tiff%22:%22.tiff%22,%22image/x-icon%22:%22.ico%22%7D;var%20css='%3Cstyle%3E%23conv-ui%7Bposition:fixed;top:60px;left:60px;width:360px;background:%23111;color:%230f0;font-family:sans-serif;z-index:999999;border:2px%20solid%20%230f0;border-radius:8px;padding:10px;box-shadow:0%200%2010px%20%230f08;user-select:none;cursor:move%7D%23conv-ui%20h3%7Bmargin:0%200%2010px;text-align:center;font-size:16px%7D%23conv-ui%20.x%7Bposition:absolute;top:5px;left:5px;font-size:18px;color:%230f0;cursor:pointer%7D%23conv-ui%20input,%23conv-ui%20select,%23conv-ui%20button,%23conv-ui%20textarea%7Bwidth:100%25;margin:4px%200;background:%23000;color:%230f0;border:1px%20solid%20%230f0;border-radius:4px;padding:4px;font-family:monospace;font-size:12px%7D%23conv-ui%20button:hover%7Bbackground:%230f08%7D%23conv-ui%20textarea%7Bheight:120px%7D%3C/style%3E';var%20opts=fmt.map(f=%3E'%3Coption%20value=%22'+f+'%22%3E'+f.toUpperCase()+'%3C/option%3E').join('');var%20html='%3Cdiv%20id=%22conv-ui%22%3E%3Cdiv%20class=%22x%22%3E✖%3C/div%3E%3Ch3%3EUniversal%20File%20Converter%3C/h3%3E%3Clabel%3ESource%20file%3C/label%3E%3Cinput%20type=%22file%22%20id=%22in%22%3E%3Clabel%3EOutput%20format%3C/label%3E%3Cselect%20id=%22out%22%3E'+opts+'%3C/select%3E%3Cbutton%20id=%22go%22%20disabled%3EConvert%3C/button%3E%3Cbutton%20id=%22dl%22%20style=%22display:none%22%3EDownload%3C/button%3E%3Ctextarea%20id=%22log%22%20readonly%20placeholder=%22Logs%20/%20Base64%20preview…%22%3E%3C/textarea%3E%3C/div%3E';var%20wrap=document.createElement('div');wrap.innerHTML=css+html;document.body.appendChild(wrap);var%20ui=document.getElementById('conv-ui'),x=ui.querySelector('.x'),fin=document.getElementById('in'),out=document.getElementById('out'),go=document.getElementById('go'),dl=document.getElementById('dl'),log=document.getElementById('log');x.onclick=()=%3Eui.remove();fin.onchange=()=%3Ego.disabled=!fin.files%5B0%5D;function%20logMsg(m)%7Blog.value=m%7Dfunction%20blobExt(t)%7Breturn%7Bpng:'.png',jpg:'.jpg',jpeg:'.jpg',webp:'.webp',avif:'.avif',bmp:'.bmp',gif:'.gif',tiff:'.tiff',ico:'.ico',obj:'.obj',glb:'.glb',json:'.json',yaml:'.yaml',csv:'.csv',html:'.html',md:'.md',txt:'.txt',base64:'.b64.txt',datauri:'.txt'%7D%5Bt%5D%7C%7C('.'+t)%7Dfunction%20load(s,cb)%7Bvar%20k=0;if(!s.length)cb();s.forEach(u=%3E%7Bif(document.querySelector('script%5Bsrc=%22'+u+'%22%5D'))%7Bif(++k===s.length)cb();return;%7Dvar%20t=document.createElement('script');t.src=u;t.onload=()=%3E%7Bif(++k===s.length)cb()%7D;t.onerror=()=%3ElogMsg('Load%20error%20'+u);document.head.appendChild(t)%7D)%7Dfunction%20save(b,n)%7Bvar%20u=URL.createObjectURL(b);dl.style.display='block';dl.onclick=()=%3E%7Bvar%20a=document.createElement('a');a.href=u;a.download=n;a.click()%7D;if(b.type.startsWith('image/'))%7Bvar%20r=new%20FileReader();r.onload=()=%3ElogMsg(r.result.slice(0,1000)+'…');r.readAsDataURL(b)%7Delse%20logMsg('Ready:%20'+n)%7Dfunction%20canvasConvert(f,ext)%7Bvar%20img=new%20Image();img.onload=()=%3E%7Bvar%20c=document.createElement('canvas');c.width=img.naturalWidth;c.height=img.naturalHeight;c.getContext('2d').drawImage(img,0,0);c.toBlob(b=%3E%7Bif(!b)%7BlogMsg('Image%20convert%20failed');return;%7Dvar%20e=mimeExt%5Bb.type%5D%7C%7CblobExt(ext);save(b,f.name.replace(/%5C.%5B%5E.%5D+$/,'')+e)%7D,'image/'+(ext==='jpg'?'jpeg':ext))%7D;img.onerror=()=%3ElogMsg('Image%20load%20error');img.src=URL.createObjectURL(f)%7Dfunction%20glbToObj(f)%7Bload(%5B'https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js','https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/loaders/GLTFLoader.js','https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/exporters/OBJExporter.js'%5D,()=%3E%7Bvar%20l=new%20THREE.GLTFLoader();(l.parseAsync?l.parseAsync(null,URL.createObjectURL(f)):new%20Promise((res,rej)=%3El.parse(URL.createObjectURL(f),'',g=%3Eres(g),rej))).then(g=%3E%7Bvar%20e=new%20THREE.OBJExporter();var%20txt=e.parse(g.scene);save(new%20Blob(%5Btxt%5D,%7Btype:'text/plain'%7D),f.name.replace(/%5C.glb$/i,'')+'.obj')%7D).catch(e=%3ElogMsg('GLB%20error%20'+e))%7D)%7Dfunction%20jsonYamlCsv(txt,isJson,toFmt)%7Bload(%5B'https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js','https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js'%5D,()=%3E%7Btry%7Bvar%20out='';if(isJson&&toFmt==='yaml')out=jsyaml.dump(JSON.parse(txt));else%20if(!isJson&&toFmt==='json')out=JSON.stringify(jsyaml.load(txt));else%20if(isJson&&toFmt==='csv')out=Papa.unparse(JSON.parse(txt));else%20if(toFmt==='json'&&txt.indexOf(',')%3E-1)out=JSON.stringify(Papa.parse(txt,%7Bheader:!1%7D).data);else%7BlogMsg('Unsupported%20text%20conversion');return;%7Dsave(new%20Blob(%5Bout%5D,%7Btype:'text/plain'%7D),'converted'+blobExt(toFmt))%7Dcatch(e)%7BlogMsg('Text%20convert%20error')%7D%7D)%7Dfunction%20mdHtml(txt,fromMd)%7Bload(%5B'https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js','https://cdn.jsdelivr.net/npm/turndown@7.1.2/dist/turndown.umd.js'%5D,()=%3E%7Btry%7Bvar%20res=fromMd?(new%20showdown.Converter).makeHtml(txt):(new%20TurndownService).turndown(txt);save(new%20Blob(%5Bres%5D,%7Btype:'text/plain'%7D),'converted'+(fromMd?'.html':'.md'))%7Dcatch(e)%7BlogMsg('MD/HTML%20error')%7D%7D)%7Dfunction%20base64DataUri(f,asData)%7Bvar%20r=new%20FileReader();r.onload=()=%3E%7Bvar%20d=r.result;if(asData)save(new%20Blob(%5Bd%5D,%7Btype:'text/plain'%7D),f.name+blobExt('datauri'));else%7Bvar%20b64=d.split(',')%5B1%5D;save(new%20Blob(%5Bb64%5D,%7Btype:'text/plain'%7D),f.name+blobExt('base64'))%7D%7D;r.readAsDataURL(f)%7Dfunction%20convert(f,to)%7BlogMsg('Converting…');dl.style.display='none';var%20ext=f.name.split('.').pop().toLowerCase();var%20img=%5B'png','jpg','jpeg','webp','avif','bmp','gif','tiff','ico','svg'%5D;if(img.includes(ext)&&img.includes(to))%7BcanvasConvert(f,to);return%7Dif(ext==='glb'&&to==='obj')%7BglbToObj(f);return%7Dif(%5B'json','yaml','yml','csv'%5D.includes(ext)&&%5B'json','yaml','csv'%5D.includes(to))%7Bvar%20rr=new%20FileReader();rr.onload=()=%3EjsonYamlCsv(rr.result,ext==='json',to);rr.readAsText(f);return%7Dif((ext==='md'&&to==='html')%7C%7C(ext==='html'&&to==='md'))%7Bvar%20rr2=new%20FileReader();rr2.onload=()=%3EmdHtml(rr2.result,ext==='md');rr2.readAsText(f);return%7Dif(to==='base64'%7C%7Cto==='datauri')%7Bbase64DataUri(f,to==='datauri');return%7DlogMsg('Unsupported%20conversion')%7Dgo.onclick=()=%3Econvert(fin.files%5B0%5D,out.value);var%20drag=!1,sx,sy,ox,oy;ui.addEventListener('mousedown',e=%3E%7Bif(/INPUT%7CSELECT%7CBUTTON%7CTEXTAREA/.test(e.target.tagName))return;drag=!0;sx=e.clientX;sy=e.clientY;var%20r=ui.getBoundingClientRect();ox=r.left;oy=r.top%7D);window.addEventListener('mousemove',e=%3E%7Bif(!drag)return;var%20nx=ox+e.clientX-sx,ny=oy+e.clientY-sy;nx=Math.max(0,Math.min(window.innerWidth-ui.offsetWidth,nx));ny=Math.max(0,Math.min(window.innerHeight-ui.offsetHeight,ny));ui.style.left=nx+'px';ui.style.top=ny+'px'%7D);window.addEventListener('mouseup',()=%3Edrag=!1);%7D)();
